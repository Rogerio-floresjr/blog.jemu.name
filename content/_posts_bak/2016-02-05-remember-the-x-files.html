---
title: Remember the X-Files?
subtitle: ""
description: ""
image: "/post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plots_arcs_waffle-1.png"
author: jemus42
date: '2016-02-05'
categories:
  - rstats
  - tvshows
tags:
  - trakt.tv
  - Rmd
shows:
  - X-Files
packages:
  - rvest
  - ggplot2
  - waffle
  - tRakt
  - purrr
  - dplyr
draft: no
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>


<p>With the return of the X-Files in form of a miniseries, I was tempted to catch up on the original run of the show, since I had only seen the occasional episode in the late 90’s or early 00’s (my mom was a big fan).
Being me, I already looked up the X-Files episodes <a href="http://trakt.jemu.name">ratings on trakt.tv</a> to see if there’s something interesting about them, but I didn’t think there was. However, when I listened to the <a href="https://www.theincomparable.com/theincomparable/284/index.php">Incomparable talking about the show</a>, I learned that apparently X-Files can be divided into the “myth arc” and regular, more stand-alone episodes. That’s when I realized I need to get my tv show analysis boots on and try to see what I could do.
To my delight, I noticed that the <a href="https://en.wikipedia.org/wiki/List_of_The_X-Files_episodes">appropriate Wikipedia article</a> neatly marks the myth arc episodes, ready for plucking.</p>
<p>And then I started plucking.</p>
<div id="setup-and-data-retrieval" class="section level3">
<h3>Setup and data retrieval</h3>
<p>Here are the R packages I used for the analysis. Some of them are from GitHub, and two of them are my own packages.
It seems I need this stuff a lot.</p>
<pre class="r language-r"><code>library(rvest)
library(dplyr)
library(purrr)
library(stringr)
library(ggplot2)
library(broom)
library(knitr)
library(magrittr)
library(tRakt)        # devtools::install_github(&quot;jemus42/tRakt&quot;)
library(tadaatoolbox) # devtools::install_github(&quot;tadaadata/tadaatoolbox&quot;)
library(waffle)       # devtools::install_github(&quot;hrbrmstr/waffle&quot;)</code></pre>
<p>And here is the heart of that whole project. Probably my biggest and most complex <code>%&gt;%</code>-chain to date.
I realize that going for big and complex chains is not necessarily a good thing because of readibility and understandability, but at some point I just wanted to know if I could actually do all the data retrieval <em>and cleanup</em> in one chain.
I could.</p>
<pre class="r language-r"><code>xfiles &lt;- read_html(&quot;https://en.wikipedia.org/wiki/List_of_The_X-Files_episodes&quot;) %&gt;%
  str_replace_all(&#39;&lt;/a&gt;\&quot;&lt;img&#39;, &quot;ARC&lt;/a&gt;&lt;img&quot;) %&gt;%
  read_html() %&gt;%
  html_table(fill = TRUE) %&gt;%
  extract(c(2:6, 8:11))

xfiles &lt;- xfiles %&gt;%
  map_df(~{
    set_names(.x, c(&quot;epnum&quot;, &quot;episode&quot;, &quot;title&quot;, &quot;director&quot;, 
                    &quot;writer&quot;, &quot;firstaired&quot;, &quot;prod_id&quot;, &quot;viewers&quot;))
  }) %&gt;%
  mutate(title   = str_replace_all(title, &#39;&quot;&#39;, &quot;&quot;),
         plotarc = ifelse(grepl(&quot;ARC&quot;, title), &quot;Mytharc&quot;, &quot;Regular&quot;),
         title   = str_replace_all(title, &quot;ARC&quot;, &quot;&quot;),
         epnum   = as.numeric(epnum)) %&gt;%
  mutate(epnum = seq_along(epnum)) %&gt;%
  select(-episode, -title, -firstaired) %&gt;%
  mutate(viewers = str_replace_all(viewers, &quot;\\[\\d+]&quot;, &quot;&quot;),
         viewers = as.numeric(viewers),
         plotarc = as.factor(plotarc))

# Duplicate last episode because trakt.tv counts the two-parter as two episodes
xfiles &lt;- xfiles %&gt;% 
  bind_rows(
    xfiles %&gt;%
      tail(1) %&gt;%
      mutate(epnum = 202)
    )
  
xfiles_trakt &lt;- seasons_season(&quot;the-x-files&quot;, seasons = 1:9, extended = &quot;full&quot;)  %&gt;%
  mutate(episode_abs = seq_along(title))

xfiles &lt;- xfiles %&gt;%
  full_join(xfiles_trakt, by = c(&quot;epnum&quot; = &quot;episode_abs&quot;))</code></pre>
<p>Maybe I can explain the process a little, because the first half took me ages to get right.
The thing about the episodes in that Wikipedia article being marked is tricky, because they are indeed marked with a double dagger (‡), but no, not a unicode text dagger like this: ‡ — but with an image of the symbol. Therefore, my web scraping only returned the text of the html table, not the image in it. Therefore, I could not easily figure out which episode was being marked, since the marking was now gone. The workaround for that was for me to scrape the raw html with <code>read_html</code>, pump it through <code>str_replace_all</code> where I looked for occurrences of images being placed directly after text, and then inserted the dummy text <code>ARC</code> at the end of the text and before the image. To my surprise, that actually worked quite well (at this point I had tried a dozen different things, including regex-voodoo).
At this point I could simply re-pump the modified html into the same <code>read_html</code> function, extract the tables and filter out the elements which corresponded to the episode tables from the Wiki article.
That’s it for the first 5 lines.
After that there’s only a bunch of modifications to make the output usable, like replacing column names with names that didn’t cause weird issues (probably due to weird characters R didn’t like), and combining all the episode tables for each season into one coherent <code>data.frame</code> (the first <code>bind_rows</code>).
The rest is basically your average data munging, until the last line, where I used my <a href="https://github.com/jemus42/tRakt">trakt.tv package</a> to collect all the X-Files episode with ratings and some other data from <a href="https://trakt.tv">trakt.tv</a>, merge that with the original dataset to produce the show dataset with the most metadata I ever had.
That’s nice.</p>
<p>So, on to the actualy analysis.</p>
</div>
<div id="so-i-heard-you-like-plots" class="section level3">
<h3>So I heard you like plots</h3>
<p>Before I start the plottage, here are some numbers: The original run of the serious spanned 9 seasons, 202 episodes (depending on how you count certain two parters, I counted them as two episodes) and just over 3 <em>billion</em> views.</p>
<p>That’s a lot of views. Let’s plot them over the seasons.</p>
<pre class="r language-r"><code>ggplot(data = xfiles, aes(x = episode, y = viewers)) +
  geom_point(size = 4) +
  facet_grid(. ~ season) +
  labs(title = &quot;The X-Files US Viewers by Season&quot;,
       x = &quot;Episode&quot;, y = &quot;Viewers (Millions)&quot;)</code></pre>
<figure>
<picture>
<source type='image/webp' srcset='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plots_viewers_1-1.webp'>
<a href='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plots_viewers_1-1.png' data-title='xfiles_plots_viewers_1'>
<img src='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plots_viewers_1-1.png'  width = "90%"   alt='xfiles_plots_viewers_1' />
</a></picture>
<figcaption>
xfiles_plots_viewers_1
</figcaption>
</figure>
<p>That’s beautiful. I bet I could draw a quadratic curve right through those data points and probably even get a good regression fit out of it.</p>
<pre class="r language-r"><code>ggplot(data = xfiles, aes(x = epnum, y = viewers)) +
  geom_point(size = 4) +
  geom_smooth(method = lm, formula = y ~ poly(x, 2), se = F, color = &quot;red&quot;) +
  labs(title = &quot;The X-Files US Viewers&quot;,
       x = &quot;Episode&quot;, y = &quot;Viewers (Millions)&quot;)</code></pre>
<figure>
<picture>
<source type='image/webp' srcset='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plots_viewers_2-1.webp'>
<a href='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plots_viewers_2-1.png' data-title='xfiles_plots_viewers_2'>
<img src='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plots_viewers_2-1.png'  width = "90%"   alt='xfiles_plots_viewers_2' />
</a></picture>
<figcaption>
xfiles_plots_viewers_2
</figcaption>
</figure>
<pre class="r language-r"><code>model &lt;- lm(data = xfiles, viewers ~ poly(epnum, 2))

tidy(model) %&gt;% 
  kable(digits = 3)</code></pre>
<table>
<thead>
<tr class="header">
<th align="center">term</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">(Intercept)</td>
<td align="right">15.177</td>
<td align="right">0.148</td>
<td align="right">102.419</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="center">poly(epnum, 2)1</td>
<td align="right">-9.268</td>
<td align="right">2.116</td>
<td align="right">-4.381</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="center">poly(epnum, 2)2</td>
<td align="right">-43.175</td>
<td align="right">2.107</td>
<td align="right">-20.495</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<pre class="r language-r"><code>glance(model) %&gt;% 
  kable(digits = 3)</code></pre>
<table>
<thead>
<tr class="header">
<th align="right">r.squared</th>
<th align="right">adj.r.squared</th>
<th align="right">sigma</th>
<th align="right">statistic</th>
<th align="right">p.value</th>
<th align="right">df</th>
<th align="right">logLik</th>
<th align="right">AIC</th>
<th align="right">BIC</th>
<th align="right">deviance</th>
<th align="right">df.residual</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0.691</td>
<td align="right">0.688</td>
<td align="right">2.096</td>
<td align="right">219.979</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">-430.246</td>
<td align="right">868.492</td>
<td align="right">881.686</td>
<td align="right">865.149</td>
<td align="right">197</td>
</tr>
</tbody>
</table>
<p>…And I actually did. Nice.
For those who slept through statistics class, that mumbo jumbo of numbers basically means that that curve I drew is a pretty decent approximation of the viewership numbers, meaning that in the beginning, there were little, then a peak through season 5, and then a steady decline throughout the end.</p>
<p>Let’s look at the averages for each season and throw some confidence intervals in for good measure.</p>
<pre class="r language-r"><code>xfiles %&gt;% group_by(season) %&gt;%
  summarize(mean  = mean(viewers, na.rm = T),
            lower = mean - confint_t(viewers, na.rm = T),
            upper = mean + confint_t(viewers, na.rm = T)) %&gt;%
  ggplot(aes(x = season, y = mean)) +
  geom_errorbar(aes(ymin = lower, ymax = upper), size = 2) +
  geom_point(size = 3, color = &quot;red&quot;) +
  scale_color_brewer(palette = &quot;Set1&quot;, guide = F) +
  labs(title = &quot;Average Viewers per Season with 95% CI&quot;, 
       x = &quot;Season&quot;, y = &quot;Average Viewers (Millions)&quot;)</code></pre>
<figure>
<picture>
<source type='image/webp' srcset='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plots_viewers_3-1.webp'>
<a href='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plots_viewers_3-1.png' data-title='xfiles_plots_viewers_3'>
<img src='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plots_viewers_3-1.png'  width = "90%"   alt='xfiles_plots_viewers_3' />
</a></picture>
<figcaption>
xfiles_plots_viewers_3
</figcaption>
</figure>
<p>It’s probably quite telling that season 9 got less viewers than the first season.</p>
</div>
<div id="so-plot-arcs" class="section level3">
<h3>So, plot arcs</h3>
<p>Let’s start looking at these plot arcs I keep hearing about. First of all, I classified all the episodes according to the Wikipedia episode list in “Mytharc” and “Regular”, and now let’s see how many of each there are.</p>
<pre class="r language-r"><code>waffle(table(xfiles$plotarc), rows = 10, size = .5, 
       title = &quot;Number of Episodes by Plot Arc&quot;, xlab = &quot;1 Square == 1 Episode&quot;, 
       legend_pos = &quot;top&quot;, colors = RColorBrewer::brewer.pal(3, &quot;Set1&quot;)[1:2])</code></pre>
<figure>
<picture>
<source type='image/webp' srcset='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plots_arcs_waffle-1.webp'>
<a href='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plots_arcs_waffle-1.png' data-title='xfiles_plots_arcs_waffle'>
<img src='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plots_arcs_waffle-1.png'  width = "90%"   alt='xfiles_plots_arcs_waffle' />
</a></picture>
<figcaption>
xfiles_plots_arcs_waffle
</figcaption>
</figure>
<p>Yep. That’s 62 <em>mytharc</em> episodes and 140 remaining episodes.
I’m assuming the plot arcs don’t have any influence on the original viewer numbers, but let’s check that.</p>
<pre class="r language-r"><code>ggplot(data = xfiles, aes(x = episode, y = viewers, colour = plotarc)) +
  geom_point(size = 4) +
  geom_smooth(method = lm, se = F) +
  facet_grid(. ~ season) +
  scale_color_brewer(palette = &quot;Set1&quot;) +
  labs(title = &quot;The X-Files US Viewers\nBy Season and Plot Arc&quot;,
       x = &quot;Episode&quot;, y = &quot;Viewers (Millions)&quot;, color = &quot;Plot Arc&quot;) +
  theme(legend.position = &quot;top&quot;)</code></pre>
<figure>
<picture>
<source type='image/webp' srcset='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plots_arcs_viewers-1.webp'>
<a href='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plots_arcs_viewers-1.png' data-title='xfiles_plots_arcs_viewers'>
<img src='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plots_arcs_viewers-1.png'  width = "90%"   alt='xfiles_plots_arcs_viewers' />
</a></picture>
<figcaption>
xfiles_plots_arcs_viewers
</figcaption>
</figure>
<pre class="r language-r"><code>xfiles %&gt;% group_by(plotarc) %&gt;%
  summarize(mean  = mean(viewers, na.rm = T),
            lower = mean - confint_t(viewers, na.rm = T),
            upper = mean + confint_t(viewers, na.rm = T)) %&gt;%
  ggplot(aes(x = plotarc, y = mean, colour = plotarc)) +
  geom_errorbar(aes(ymin = lower, ymax = upper), size = 2) +
  geom_point(size = 3, color = &quot;black&quot;) +
  scale_color_brewer(palette = &quot;Set1&quot;, guide = F) +
  labs(title = &quot;Average Viewers with 95% CI&quot;, x = &quot;Plot Arc&quot;, y = &quot;Average Viewers (Millions)&quot;)</code></pre>
<figure>
<picture>
<source type='image/webp' srcset='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plots_arcs_viewers2-1.webp'>
<a href='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plots_arcs_viewers2-1.png' data-title='xfiles_plots_arcs_viewers2'>
<img src='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plots_arcs_viewers2-1.png'  width = "90%"   alt='xfiles_plots_arcs_viewers2' />
</a></picture>
<figcaption>
xfiles_plots_arcs_viewers2
</figcaption>
</figure>
<p>Huh, it actually looks like there is a mild increase in viewers for the <em>mytharc</em>, but nothing significant (the CIs overlap a lot).</p>
<p>So, what’s next? How about we look at the trakt.tv episode ratings to compare the plot arcs:</p>
<pre class="r language-r"><code>ggplot(data = xfiles, aes(x = episode, y = rating, colour = plotarc)) +
  geom_point(size = 4) +
  geom_smooth(method = lm, se = F) +
  facet_grid(. ~ season) +
  scale_color_brewer(palette = &quot;Set1&quot;) +
  labs(title = &quot;The X-Files Ratings on trakt.tv\nBy Season and Plot Arc&quot;,
       x = &quot;Episode&quot;, y = &quot;Rating (0-10)&quot;, color = &quot;Plot Arc&quot;) +
  theme(legend.position = &quot;top&quot;)</code></pre>
<figure>
<picture>
<source type='image/webp' srcset='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plotarcs_episodes-1.webp'>
<a href='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plotarcs_episodes-1.png' data-title='xfiles_plotarcs_episodes'>
<img src='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plotarcs_episodes-1.png'  width = "90%"   alt='xfiles_plotarcs_episodes' />
</a></picture>
<figcaption>
xfiles_plotarcs_episodes
</figcaption>
</figure>
<p>That seems… oddly conclusive. The mytharc appear to be consistently more well-received than non-mytharc episodes, but that might be due to people on rewatches (remember trakt.tv wasn’t around during the 90s) only watch and/or rate the mytharc episodes more often?</p>
<pre class="r language-r"><code>ggplot(data = xfiles, aes(x = episode, y = votes, colour = plotarc)) +
  geom_point(size = 4) +
  geom_smooth(method = lm, se = F) +
  facet_grid(. ~ season) +
  scale_color_brewer(palette = &quot;Set1&quot;) +
  labs(title = &quot;The X-Files Votes on trakt.tv\nBy Season and Plot Arc&quot;,
       x = &quot;Episode&quot;, y = &quot;Votes&quot;, color = &quot;Plot Arc&quot;) +
  theme(legend.position = &quot;top&quot;)</code></pre>
<figure>
<picture>
<source type='image/webp' srcset='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plotarcs_votes-1.webp'>
<a href='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plotarcs_votes-1.png' data-title='xfiles_plotarcs_votes'>
<img src='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plotarcs_votes-1.png'  width = "90%"   alt='xfiles_plotarcs_votes' />
</a></picture>
<figcaption>
xfiles_plotarcs_votes
</figcaption>
</figure>
<p>Well, nope. That seems pretty uniform and resembles the same kind of vote distribution I commonly see on shows on trakt.tv.</p>
<p>So let’s take a closer look at the episode ratings by plot arc: Here’s a histogram with overlaid density distribution and the means with confidence intervals.</p>
<pre class="r language-r"><code>ggplot(data = xfiles, aes(x = rating, fill = plotarc)) +
  geom_density(alpha = .5) +
  # geom_histogram(aes(y = stat(density)), position = &quot;dodge&quot;, alpha = .6) +
  scale_fill_brewer(palette = &quot;Set1&quot;) +
  labs(title = &quot;Rating Distribution by Plot Arc&quot;,
       x = &quot;Rating&quot;, y = &quot;Density&quot;, fill = &quot;Plot Arc&quot;) +
  theme(legend.position = &quot;top&quot;)</code></pre>
<figure>
<picture>
<source type='image/webp' srcset='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plotarc_ratingfrq_1-1.webp'>
<a href='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plotarc_ratingfrq_1-1.png' data-title='xfiles_plotarc_ratingfrq_1'>
<img src='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plotarc_ratingfrq_1-1.png'  width = "90%"   alt='xfiles_plotarc_ratingfrq_1' />
</a></picture>
<figcaption>
xfiles_plotarc_ratingfrq_1
</figcaption>
</figure>
<pre class="r language-r"><code>xfiles %&gt;% group_by(plotarc) %&gt;%
  summarize(mean  = mean(rating),
            lower = mean - confint_t(rating),
            upper = mean + confint_t(rating)) %&gt;%
  ggplot(aes(x = plotarc, y = mean, colour = plotarc)) +
  geom_errorbar(aes(ymin = lower, ymax = upper), size = 2) +
  geom_point(size = 3, color = &quot;black&quot;) +
  scale_color_brewer(palette = &quot;Set1&quot;, guide = F) +
  labs(title = &quot;Average Rating with 95% CI&quot;, x = &quot;Plot Arc&quot;, y = &quot;Rating (0-100)&quot;)</code></pre>
<figure>
<picture>
<source type='image/webp' srcset='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plotarc_ratingfrq_2-1.webp'>
<a href='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plotarc_ratingfrq_2-1.png' data-title='xfiles_plotarc_ratingfrq_2'>
<img src='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plotarc_ratingfrq_2-1.png'  width = "90%"   alt='xfiles_plotarc_ratingfrq_2' />
</a></picture>
<figcaption>
xfiles_plotarc_ratingfrq_2
</figcaption>
</figure>
<p>As you can see, there’s quite a nice distinction. Especially the second plot shows an obvious difference which is so big a statistical test for significance would be entirely pointless. But who am I to judge, here’s a t-test.</p>
<pre class="r language-r"><code>tadaa_t.test(xfiles, rating, plotarc, print = &quot;markdown&quot;)</code></pre>
<p>Table 1: <strong>Two Sample t-test</strong> with alternative hypothesis: <span class="math inline">\(\mu_1 \neq \mu_2\)</span></p>
<table>
<thead>
<tr class="header">
<th align="center">Diff</th>
<th align="center"><span class="math inline">\(\mu_1\)</span> Mytharc</th>
<th align="center"><span class="math inline">\(\mu_2\)</span> Regular</th>
<th align="center">t</th>
<th align="center">SE</th>
<th align="center">df</th>
<th align="center"><span class="math inline">\(CI_{95\%}\)</span></th>
<th align="center">p</th>
<th align="center">Cohen's d</th>
<th align="center">Power</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">0.38</td>
<td align="center">7.9</td>
<td align="center">7.52</td>
<td align="center">8.65</td>
<td align="center">0.04</td>
<td align="center">200</td>
<td align="center">(0.29 - 0.47)</td>
<td align="center">&lt; .001</td>
<td align="center">1.33</td>
<td align="center">1</td>
</tr>
</tbody>
</table>
<p><br></p>
<p><br></p>
<p>If you’re not familiar with t-tests and power analysis: That’s ridiculous. The p-value indicates significance by it’s own right, and the effect size of <span class="math inline">\(d = 1.421\)</span> tells use the effect is <em>huge</em>, with effect sizes greater than 0.8 commonly referred to as large. Also, the power is 1 (rounded value, so <em>very close to 1</em>), which basically means that with that data it’s theoretically next to impossible no not spot that difference if our data was a sample of a larger “population” of episodes.</p>
<p>Anyway, let’s continue.
The next thing I’m curious about is if that difference in ratings is seen throughout the series, or possibly limited to some seasons.</p>
<pre class="r language-r"><code>xfiles %&gt;% group_by(plotarc, season) %&gt;%
  summarize(mean  = mean(rating),
            lower = mean - confint_t(rating),
            upper = mean + confint_t(rating)) %&gt;%
  ggplot(aes(x = season, y = mean, colour = plotarc)) +
  geom_errorbar(aes(ymin = lower, ymax = upper), size = 2) +
  geom_point(size = 3, color = &quot;black&quot;) +
  scale_color_brewer(palette = &quot;Set1&quot;) +
  labs(title = &quot;Average Rating with 95% CI&quot;, x = &quot;Season&quot;, y = &quot;Rating (0-100)&quot;, color = &quot;Plot Arc&quot;) +
  theme(legend.position = &quot;top&quot;)</code></pre>
<figure>
<picture>
<source type='image/webp' srcset='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plotarc_rating_season-1.webp'>
<a href='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plotarc_rating_season-1.png' data-title='xfiles_plotarc_rating_season'>
<img src='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plotarc_rating_season-1.png'  width = "90%"   alt='xfiles_plotarc_rating_season' />
</a></picture>
<figcaption>
xfiles_plotarc_rating_season
</figcaption>
</figure>
<p>Here we have the mean rating with a 95% CI for each season, and who would have guessed, the overall trend is the same. Besides season 6 and maybe season 5, there’s a significant difference in ratings within each season per plotarc.</p>
</div>
<div id="conclusion" class="section level3">
<h3>Conclusion</h3>
<p>So, take this to mean whatever you want, but let’s just say that if you were to rewatch <em>X-Files</em> to get in the mood for the new miniseries, there’s a chance you’ll be fine if you select your sample from the mytharc episodes.
Or maybe not, as Siracusa argued in that Incomparable episodes.
Anyways, I just wanted to make some plots.</p>
<p>So to end this, let’s take a quick look at the writers who brought us this show (filtered for at leats 2 episode credits):</p>
<pre class="r language-r"><code>xfiles %&gt;% group_by(plotarc, writer) %&gt;% 
  tally %&gt;%
  filter(n &gt; 1) %&gt;%
  ggplot(aes(x = reorder(writer, n), weight = n)) +
  geom_bar() +
  coord_flip() +
  facet_wrap(~plotarc) +
  labs(title = &quot;Writers with at Least Two Episode Credits&quot;,
       x = &quot;Writer&quot;, y = &quot;Number of Episodes&quot;)</code></pre>
<figure>
<picture>
<source type='image/webp' srcset='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plot_writers-1.webp'>
<a href='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plot_writers-1.png' data-title='xfiles_plot_writers'>
<img src='../../../post/2016-02-05-remember-the-x-files_files/figure-html/xfiles_plot_writers-1.png'  width = "90%"   alt='xfiles_plot_writers' />
</a></picture>
<figcaption>
xfiles_plot_writers
</figcaption>
</figure>
</div>
