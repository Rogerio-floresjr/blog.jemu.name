---
title: Buuurrrp
author: Jemus42
date: '2017-08-20'
slug: buuurrrp
categories:
  - tvshows
  - rstats
tags:
  - Rmd
  - trakt.tv
shows: 
  - Rick and Morty
packages: 
  - tRakt
  - ggplot2
---

```{r init, include = FALSE}
source(rprojroot::find_rstudio_root_file("global.R"))
```

Everybody lo*burp*es [Rick and Morty](https://trakt.tv/shows/rick-and-morty), and rightly so.  
It ticks all the cynical boxes full of nihilistic meta-humor and what not, while satirizing pretty much everything.

So, yeah, I'll plot the [trakt.tv](https://trakt.tv) ratings and pretend someone cares.

## Getting the Data

```{r dataprep}
library(tRakt)
library(dplyr)
library(ggplot2)
library(hrbrthemes)

show     <- trakt.search("Rick and Morty")
episodes <- trakt.get_all_episodes(show$ids$slug)

episodes %>%
  select(epid, first_aired.string, title, rating) %>%
  head(5)
```

Well that was easy. As usual.

## Plo*burp*oots

```{r, ep_abs, fig.cap="Absolute Episode Numbers with Ratings"}
ggplot(data = episodes, 
       aes(x = episode_abs, y = rating, fill = season)) +
  geom_point(shape = 21, size = 3, color = "black") +
  scale_x_continuous(breaks = seq(0, 100, 5),
                     minor_breaks = seq(0, 100, 1)) +
  scale_y_continuous(breaks = seq(0, 10, .25), 
                     minor_breaks = seq(0, 10, .05),
                     limits = range(episodes$rating) + c(-.2, .2)) +
  scale_fill_ipsum() +
  labs(title = show$title,
       subtitle = "User Ratings on trakt.tv",
       x = "Absolute Episode #",
       y = "User Rating (1-10)",
       fill = "Season",
       caption = paste("Data as of", format(Sys.Date(), "%F"))) +
  theme_ipsum() +
  theme(legend.position = "top")
```

```{r, ep_date, fig.cap="Episodes per Air Date with Ratings"}
ggplot(data = episodes, 
       aes(x = first_aired, y = rating, fill = season)) +
  geom_point(shape = 21, size = 3, color = "black") +
  scale_x_datetime(date_breaks = "6 months",
                   date_labels = "%b '%y") +
  scale_y_continuous(breaks = seq(0, 10, .25), 
                     minor_breaks = seq(0, 10, .05),
                     limits = range(episodes$rating) + c(-.2, .2)) +
  scale_fill_ipsum() +
  labs(title = show$title,
       subtitle = "User Ratings on trakt.tv",
       x = "Original Air Date",
       y = "User Rating (1-10)",
       fill = "Season",
       caption = paste("Data as of", format(Sys.Date(), "%F"))) +
  theme_ipsum() +
  theme(legend.position = "top")
```

## Seas*brrp*ns

```{r, seasons, fig.cap="Aggregate Season Ratings"}
ggplot(data = episodes, 
       aes(x = season, y = rating, fill = season)) +
  geom_boxplot(color = "black", alpha = .6) +
  geom_jitter(shape = 21, size = 3, alpha = .5, height = .01) +
  scale_y_continuous(breaks = seq(0, 10, .25), 
                     minor_breaks = seq(0, 10, .05),
                     limits = range(episodes$rating) + c(-.2, .2)) +
  scale_fill_ipsum(guide = FALSE) +
  labs(title = show$title,
       subtitle = "User Ratings on trakt.tv",
       x = "Original Air Date",
       y = "User Rating (1-10)",
       fill = "Season",
       caption = paste("Data as of", format(Sys.Date(), "%F"))) +
  theme_ipsum() +
  theme(legend.position = "top")
```

There might be something to learn from this, but I have to go lie down now.
