---
title: Remember Twin Peaks?
author: Jemus42
date: '2017-08-02'
categories:
  - rstats
  - tvshows
tags:
  - Rmd
  - trakt.tv
slug: remember-twin-peaks
shows:
  - Twin Peaks
packages:
  - tRakt
  - ggplot2
draft: no
---



<p>Twin Peaks came, Twin Peaks got weird, Twin Peaks went away and recently it came back.<br />
That’s the short story.<br />
Like many people who thought the original series was extraordinarily weird, yet somehow intrigueing, I of course watch the current season. It’s still very weird, and reasonably intrigueing.</p>
<p>So obviously I gotta do my usual thing of exploring the <a href="https://trakt.tv">trakt.tv</a> user ratings.</p>
<pre class="r"><code>library(tRakt) # devtools::install_github(&quot;jemus42/tRakt&quot;)
library(ggplot2)
library(scales)
library(dplyr)

twinpeaks &lt;- trakt.get_all_episodes(&quot;twin-peaks&quot;)

caption &lt;- paste0(&quot;Data as of &quot;, format(Sys.Date()), &quot;\n@jemus42&quot;)</code></pre>
<p>First up, as basic overview based on original airdates:</p>
<pre class="r"><code>ggplot(data = twinpeaks, aes(x = first_aired, y = rating, fill = season)) +
  geom_point(shape = 21, color = &quot;black&quot;, size = 2) +
  scale_x_datetime(date_breaks = &quot;3 years&quot;, minor_breaks = date_breaks(&quot;1 year&quot;),
                   labels = date_format(&quot;%Y&quot;)) +
  scale_y_continuous(breaks = seq(0, 10, .5), minor_breaks = seq(0, 10, .1),
                     limits = c(6.99, 8.51)) +
  scale_color_brewer(palette = &quot;Set1&quot;, guide = F) +
  scale_fill_brewer(palette = &quot;Set1&quot;) +
  labs(title = &quot;Twin Peaks&quot;,
       subtitle = &quot;User Ratings on trakt.tv&quot;,
       x = &quot;Original Air Date&quot;, y = &quot;User Rating (1-10)&quot;,
       fill = &quot;Season&quot;, caption = caption) +
  theme(legend.position = &quot;top&quot;)</code></pre>
<figure>
<picture><source type='image/webp' srcset='../../../post/2017-08-02-remember-twin-peaks_files/figure-html/airdate-order-1.webp'><a href='../../../post/2017-08-02-remember-twin-peaks_files/figure-html/airdate-order-1.png' class='fresco' data-fresco-caption='airdate-order'
data-fresco-group='2017-08-02-remember-twin-peaks_files' data-lightbox='2017-08-02-remember-twin-peaks_files' data-title='airdate-order'><img src='../../../post/2017-08-02-remember-twin-peaks_files/figure-html/airdate-order-1.png'  width = "100%"   alt='airdate-order' /></a></picture>
<figcaption>
airdate-order
</figcaption>
</figure>
<p>Well that’s about 25 years of nothing between seasons 2 and 3.<br />
Some might consider the recent season a separate entitiy due to that gap, but oh well, I don’t really have a horse in that race and will just consider it one long series.<br />
To remove the gap, we’ll just look at the absolute episode numbers:</p>
<pre class="r"><code>ggplot(data = twinpeaks, aes(x = epnum, y = rating, fill = season)) +
  geom_smooth(aes(color = season), method = lm, se = F, alpha = .1) +
  geom_point(shape = 21, color = &quot;black&quot;, size = 2) +
  scale_x_continuous(breaks = seq(0, 50, 5), minor_breaks = seq(0, 50, 1)) +
  scale_y_continuous(breaks = seq(0, 10, .5), minor_breaks = seq(0, 10, .1),
                     limits = c(6.99, 8.51)) +
  scale_color_brewer(palette = &quot;Set1&quot;, guide = F) +
  scale_fill_brewer(palette = &quot;Set1&quot;) +
  labs(title = &quot;Twin Peaks&quot;,
       subtitle = &quot;User Ratings on trakt.tv&quot;,
       x = &quot;Absolute Episode #&quot;, y = &quot;User Rating (1-10)&quot;,
       fill = &quot;Season&quot;, caption = caption) +
  theme(legend.position = &quot;top&quot;)</code></pre>
<figure>
<picture><source type='image/webp' srcset='../../../post/2017-08-02-remember-twin-peaks_files/figure-html/absolute-episodes-1.webp'><a href='../../../post/2017-08-02-remember-twin-peaks_files/figure-html/absolute-episodes-1.png' class='fresco' data-fresco-caption='absolute-episodes'
data-fresco-group='2017-08-02-remember-twin-peaks_files' data-lightbox='2017-08-02-remember-twin-peaks_files' data-title='absolute-episodes'><img src='../../../post/2017-08-02-remember-twin-peaks_files/figure-html/absolute-episodes-1.png'  width = "100%"   alt='absolute-episodes' /></a></picture>
<figcaption>
absolute-episodes
</figcaption>
</figure>
<p>Let’s compare the seasons directly.</p>
<pre class="r"><code>ggplot(data = twinpeaks, aes(x = season, y = rating, fill = season)) +
  geom_boxplot(width = .5, alpha = .5, outlier.alpha = 0) +
  geom_jitter(aes(color = season), width = .2, height = 0, alpha = .7) +
  scale_y_continuous(breaks = seq(0, 10, .5), minor_breaks = seq(0, 10, .1),
                     limits = c(6.99, 8.51)) +
  scale_color_brewer(palette = &quot;Set1&quot;, guide = F) +
  scale_fill_brewer(palette = &quot;Set1&quot;, guide = F) +
  labs(title = &quot;Twin Peaks&quot;,
       subtitle = &quot;User Ratings on trakt.tv&quot;,
       x = &quot;Season&quot;, y = &quot;User Rating (1-10)&quot;,
       fill = &quot;Season&quot;, caption = caption) +
  theme(legend.position = &quot;top&quot;)</code></pre>
<figure>
<picture><source type='image/webp' srcset='../../../post/2017-08-02-remember-twin-peaks_files/figure-html/season-comparison-1.webp'><a href='../../../post/2017-08-02-remember-twin-peaks_files/figure-html/season-comparison-1.png' class='fresco' data-fresco-caption='season-comparison'
data-fresco-group='2017-08-02-remember-twin-peaks_files' data-lightbox='2017-08-02-remember-twin-peaks_files' data-title='season-comparison'><img src='../../../post/2017-08-02-remember-twin-peaks_files/figure-html/season-comparison-1.png'  width = "100%"   alt='season-comparison' /></a></picture>
<figcaption>
season-comparison
</figcaption>
</figure>
<p>It should probably also be noted that episode runtimes haven’t been exactly constant throughout the seasons. There are some &gt;90min episodes which should probably considered two-parters, so I’ll just halve those runtimes for a better overview.</p>
<pre class="r"><code>twinpeaks %&gt;%
  mutate(runtime = ifelse(runtime &gt; 90, runtime/2, runtime)) %&gt;%
  ggplot(data = ., aes(x = season, y = runtime, fill = season)) +
  geom_boxplot(width = .5, alpha = .5, outlier.alpha = 0) +
  geom_jitter(aes(color = season), width = .2, height = 0, alpha = .7) +
  #scale_y_continuous(breaks = seq(0, 10, .5), minor_breaks = seq(0, 10, .1),
   #                  limits = c(6.99, 8.51)) +
  scale_color_brewer(palette = &quot;Set1&quot;, guide = F) +
  scale_fill_brewer(palette = &quot;Set1&quot;, guide  = F) +
  labs(title = &quot;Twin Peaks&quot;,
       subtitle = &quot;Episode Runtimes&quot;,
       x = &quot;Season&quot;, y = &quot;Runtime (mins)&quot;,
       fill = &quot;Season&quot;, caption = caption) +
  theme(legend.position = &quot;top&quot;)</code></pre>
<figure>
<picture><source type='image/webp' srcset='../../../post/2017-08-02-remember-twin-peaks_files/figure-html/season-comparison-runtimes-1.webp'><a href='../../../post/2017-08-02-remember-twin-peaks_files/figure-html/season-comparison-runtimes-1.png' class='fresco' data-fresco-caption='season-comparison-runtimes'
data-fresco-group='2017-08-02-remember-twin-peaks_files' data-lightbox='2017-08-02-remember-twin-peaks_files' data-title='season-comparison-runtimes'><img src='../../../post/2017-08-02-remember-twin-peaks_files/figure-html/season-comparison-runtimes-1.png'  width = "100%"   alt='season-comparison-runtimes' /></a></picture>
<figcaption>
season-comparison-runtimes
</figcaption>
</figure>
<p>So yeah, there’s a lot more episode per episode this season.<br />
Most of the extra time might be filled with people sweeping the floor of a bar or obnoxious honking, but you get the idea.</p>
<p>At the time of this writing, the season is still airing, however the code will re-execute on future updates on my blog, so the data will eventually be newer than the stuff I wrote around it.<br />
I might add to this post over the next weeks, idunno.<br />
Consider this an early-access blogpost.
Because that’s how I roll in 2017.</p>
